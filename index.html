<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feed - Achoran Social</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>

  <!-- Header Section -->
  <header>
    <nav>
      <a href="index.html">Home</a>
      <a href="feed.html">Feed</a>
      <a href="login.html">Login</a>
    </nav>
  </header>

  <div class="title"><h1>Achoran Social Feed</h1></div>
  <div class="feed-container">

    <!-- Feed Posts -->
    <div id="feed"></div>
  </div>

  <!-- Add Post Button -->
  <div id="addPostBtn" class="add-post-btn">+</div>

  <!-- Popup Layer -->
  <div id="popupLayer" class="popup-layer">
    <div class="popup">
      <h2>Create a Post</h2>
      <form id="postForm" netlify>
        <textarea id="postContent" rows="4" placeholder="Write something..."></textarea>
        <button type="submit" id="postBtn">Post</button>
      </form>
    </div>
  </div>

  <!-- Footer Section -->
  <section id="footer-section">
    <footer>
      <p>Achoran Media Network - All rights reserved</p>
    </footer>
  </section>

  <script src="main.js"></script>
  <script><script>
document.addEventListener("DOMContentLoaded", async () => {
    try {
        const response = await fetch("/.netlify/functions/check-session", {
            credentials: "include",
        });

        const data = await response.json();

        if (data.loggedIn) {
            console.log("User is logged in:", data.userId);
            // You can also update UI to show "Welcome, User!" instead of "Login"
        } else {
            console.log("User not logged in");
        }
    } catch (error) {
        console.error("Session check failed:", error);
    }
});
</script></script>
</body>
</html>


